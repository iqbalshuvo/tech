
<html>

<head>
    <title>JavaScript Animation</title>
</head>

<body>

    <form>       
        <p>Click the buttons below to handle animation<br/><br/>
        <input type="button" value="Move Right" onclick="moveRight();" />
        <input type="button" value="Move Down" onclick="moveDown();" />
        <input type="button" value="Stop" onclick="stop();" /></p>
		
		 <div id="container" >
            <img id="myImage" src="flag.jpg"/>
        </div>
    </form>
    <script type="text/javascript">
        var imgObj = null;
        var animate;
        var divwidth = document.getElementById("container").clientWidth;
        var imgwidth = document.getElementById("myImage").clientWidth;
        divwidth = divwidth;
        
        function init() {
            imgObj = document.getElementById('myImage');
            imgObj.style.position = 'relative';
            imgObj.style.left = '0px';
        }

        function moveRight() {           
            if (parseInt(imgObj.style.left) > divwidth) {
                imgObj.style.left = -imgwidth;
            }
            imgObj.style.left = parseInt(imgObj.style.left) + 10 + 'px';
            animate = setTimeout(moveRight, 20); // call moveRight in 20msec
        }

        function moveDown() {            
            if (parseInt(imgObj.style.top) > divwidth) {
                imgObj.style.top = -40;
            }
            imgObj.style.top = parseInt(imgObj.style.top) + 10 + 'px';
            animate = setTimeout(moveDown, 20); // call moveDown in 20msec
        }

        function stop() {
            clearTimeout(animate);
            imgObj.style.left = '0px';
            imgObj.style.top = '0px';
        }

        window.onload = init;
    </script>
</body>
</html>
